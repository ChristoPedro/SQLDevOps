version: 0.1
component: build
timeoutInSeconds: 600
shell: bash
env:
  variables:
    "GIT_DIR" : "${OCI_WORKSPACE_DIR}/apexapp"
inputArtifacts:
  - name: controller
    type: STAGE_ARTIFACT
    location: ${GIT_DIR}/controller.xml
  - name: app
    type: STAGE_ARTIFACT
    location: ${GIT_DIR}/f${appid}.xml
steps:
  - type: Command
    name: "Git Add"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: cd ${GIT_DIR} && git add -A
  - type: Command
    name: "Git commit"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: cd ${GIT_DIR} && git add commit -m "teste"
  - type: Command
    name: "Git push"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: cd ${GIT_DIR} && git push origin main