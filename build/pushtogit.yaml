version: 0.1
component: build
timeoutInSeconds: 600
shell: bash
inputArtifacts:
  - name: controller
    type: STAGE_ARTIFACT
    location: ${OCI_WORKSPACE_DIR}/apexapp/controller.xml
  - name: app
    type: STAGE_ARTIFACT
    location: ${OCI_WORKSPACE_DIR}/apexapp/f${appid}.xml
steps:
  - type: Command
    name: "Git Add"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: | 
      cd ${OCI_WORKSPACE_DIR}/apexapp
      git add -A
  - type: Command
    name: "Git commit"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: |
      cd ${OCI_WORKSPACE_DIR}/apexapp
      git commit -m "teste"
  - type: Command
    name: "Git push"
    timeoutInSeconds: 10
    shell: /bin/sh
    command: |
      cd ${OCI_WORKSPACE_DIR}/apexapp
      git push origin main